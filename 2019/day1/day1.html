<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<style>
	div { margin: 0; padding: 0 }
	span { display: inline-block; width: 1em; height: 1em; background-color: white; border: 1px solid #888; }
	span.on { background-color: black; }
</style>
</head>
<body>
<h1>Day 1 Puzzle: Fuel Requirements</h1>
<section>
	<p>Input:</p>
	<div id="input">
94735
80130
127915
145427
89149
91232
100629
97340
86278
87034
147351
123045
91885
85973
64130
113244
58968
76296
127931
98145
120731
98289
110340
118285
60112
57177
58791
59012
66950
139387
145378
86204
147082
84956
134161
148664
74278
96746
144525
81214
70966
107050
134179
138587
80236
139871
104439
64643
145453
94791
51690
94189
148476
79956
81760
149796
109544
57533
142999
126419
115434
57092
64244
109663
94701
109265
145851
95183
84433
53818
106234
127380
149774
59601
138851
54488
100877
136952
61538
67705
60299
130769
113176
106723
133280
111065
63688
139307
122703
60162
89567
63994
66608
126376
136052
112255
98525
134023
141479
98200
</div>
</section>
<div id="output">
</div>
</body>
<script type="text/javascript">
const modules = document.getElementById("input").innerText.split(" ");
const output = document.getElementById("output");
calculateFuel = (mass) => (Math.floor(mass/3) - 2)
totalFuel = modules.reduce( (acc, m) => acc += calculateFuel(Number.parseInt(m)), 0 )
console.log(totalFuel)

recursiveFuel = mass => {
	let initialMass = mass;
	let fuel = calculateFuel(mass);
	let addedFuel = fuel;
	do {
		addedFuel = calculateFuel(addedFuel);
		if (addedFuel < 0) { addedFuel = 0 }
		fuel += addedFuel;
	} while (addedFuel > 0);
	return fuel;
}

var totalFuel = modules
	.map(m => recursiveFuel(Number.parseInt(m)))
	.reduce( (acc,f) => acc+f );

</script>
</html>
